<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Tag: 乱搞法 | hnnwang's Blog]]></title>
  <link href="http://whn757397540.github.io/tags/luan-gao-fa/atom.xml" rel="self"/>
  <link href="http://whn757397540.github.io/"/>
  <updated>2015-08-10T18:00:30+08:00</updated>
  <id>http://whn757397540.github.io/</id>
  <author>
    <name><![CDATA[hnnwang]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[HDU4986 桶分打表大法第二弹]]></title>
    <link href="http://whn757397540.github.io/blog/2015/08/10/hdu4986-tong-fen-da-biao-da-fa-di-er-dan/"/>
    <updated>2015-08-10T16:56:34+08:00</updated>
    <id>http://whn757397540.github.io/blog/2015/08/10/hdu4986-tong-fen-da-biao-da-fa-di-er-dan</id>
    <content type="html"><![CDATA[<p>Bestcoder7的第2题，本是一个数学题。会的话，几分钟出答案，不会的话，这里也有一种乱搞的方法！</p>

<!--more-->


<p>好了，进入正题，这题其实就是求调和级数的和，也就是1+½+1/3+……+1/n;</p>

<p>一种方法，数学法，貌似是个数学竞赛题！结论是，当n足够大的话，调和级数的和可以近似为ln(n+1)+r(欧拉常数），貌似是个数学奥赛题，这个想要证明的话，去百度下吧！</p>

<p>另一种方法，分桶打表乱搞大法，当时排位赛的时候用到过，求10亿以内的质数。这里也是，我选的桶的大小是100万（这个是自己来把握的），就是每逢100万保存一个数，然后在100万的区间内直接暴力求解。。</p>

<p>两种方法的代码都在下面</p>

<p>桶分打表大法</p>

<pre><code class="c++">#include &lt;cstdio&gt;
double a[]={0,14.3927267229,15.0858736534,15.4913386782,15.7790207090,16.0021642353,16.1844857754,16.3386364433,16.4721678270,16.5899508558,16.6953113659,16.7906215411,16.8776329143,16.9576756188,17.0317835882,17.1007764573,17.1653149764,17.2259395963,17.2830980085,17.3371652283,17.3884585214,17.4372486844,17.4837686989,17.5282204605,17.5707800740,17.6116020677,17.6508227801,17.6885631074,17.7249307509,17.7600220701,17.7939236212,17.8267134435,17.8584621413,17.8892337995,17.9190867622,17.9480742986,17.9762451752,18.0036441490,18.0303123957,18.0562878818,18.0816056895,18.1062983018,18.1303958531,18.1539263502,18.1769158681,18.1993887237,18.2213676302,18.2428738352,18.2639272442,18.2845465312,18.3047492383,18.3245518654,18.3439699511,18.3630181459,18.3817102787,18.4000594172,18.4180779225,18.4357774995,18.4531692420,18.4702636752,18.4870707934,18.5036000952,18.5198606160,18.5358609572,18.5516093140,18.5671135005,18.5823809725,18.5974188497,18.6122339354,18.6268327347,18.6412214721,18.6554061069,18.6693923488,18.6831856709,18.6967913228,18.7102143431,18.7234595697,18.7365316512,18.7494350560,18.7621740817,18.7747528638,18.7871753837,18.7994454762,18.8115668367,18.8235430277,18.8353774852,18.8470735249,18.8586343473,18.8700630430,18.8813625982,18.8925358987,18.9035857349,18.9145148053,18.9253257214,18.9360210105,18.9466031197,18.9570744195,18.9674372065,18.9776937066,18.9878460780,18.9978964139,19.0078467447,19.0176990411,19.0274552159,19.0371171268,19.0466865778,19.0561653217,19.0655550620,19.0748574546,19.0840741097,19.0932065932,19.1022564287,19.1112250986,19.1201140460,19.1289246756,19.1376583556,19.1463164183,19.1549001619,19.1634108516,19.1718497202,19.1802179698,19.1885167726,19.1967472717,19.2049105823,19.2130077925,19.2210399642,19.2290081338,19.2369133133,19.2447564907,19.2525386311,19.2602606772,19.2679235499,19.2755281492,19.2830753548,19.2905660265,19.2980010050,19.3053811123,19.3127071523,19.3199799116,19.3272001596,19.3343686490,19.3414861168,19.3485532840,19.3555708566,19.3625395259,19.3694599687,19.3763328480,19.3831588130,19.3899385000,19.3966725322,19.4033615203,19.4100060630,19.4166067470,19.4231641475,19.4296788285,19.4361513430,19.4425822333,19.4489720314,19.4553212591,19.4616304282,19.4679000412,19.4741305910,19.4803225612,19.4864764267,19.4925926537,19.4986716998,19.5047140142,19.5107200383,19.5166902052,19.5226249407,19.5285246629,19.5343897823,19.5402207026,19.5460178203,19.5517815250,19.5575121996,19.5632102207,19.5688759583,19.5745097760,19.5801120315,19.5856830765,19.5912232569,19.5967329127,19.6022123784,19.6076619832,19.6130820506,19.6184728993,19.6238348424,19.6291681884,19.6344732406,19.6397502977,19.6449996535,19.6502215975,19.6554164144,19.6605843845,19.6657257840,19.6708408846,19.6759299541,19.6809932561,19.6860310501,19.6910435919,19.6960311334,19.7009939227,19.7059322044,19.7108462192,19.7157362044,19.7206023941,19.7254450185,19.7302643050,19.7350604772,19.7398337560,19.7445843587,19.7493124999,19.7540183909,19.7587022402,19.7633642533,19.7680046329,19.7726235787,19.7772212879,19.7817979550,19.7863537715,19.7908889266,19.7954036070,19.7998979966,19.8043722770,19.8088266273,19.8132612244,19.8176762426,19.8220718540,19.8264482286,19.8308055340,19.8351439356,19.8394635967,19.8437646786,19.8480473404,19.8523117391,19.8565580300,19.8607863661,19.8649968986,19.8691897769,19.8733651483,19.8775231584,19.8816639511,19.8857876683,19.8898944502,19.8939844355,19.8980577608,19.9021145615,19.9061549710,19.9101791213,19.9141871427,19.9181791640,19.9221553124,19.9261157136,19.9300604919,19.9339897700,19.9379036693,19.9418023097,19.9456858097,19.9495542865,19.9534078558,19.9572466321,19.9610707285,19.9648802569,19.9686753279,19.9724560507,19.9762225335,19.9799748831,19.9837132052,19.9874376043,19.9911481837,19.9948450456,19.9985282910,20.0021980199,20.0058543311,20.0094973224,20.0131270904,20.0167437309,20.0203473384,20.0239380065,20.0275158278,20.0310808940,20.0346332956,20.0381731223,20.0417004628,20.0452154049,20.0487180354,20.0522084404,20.0556867047,20.0591529127,20.0626071476,20.0660494918,20.0694800268,20.0728988336,20.0763059919,20.0797015809,20.0830856789,20.0864583634,20.0898197111,20.0931697979,20.0965086992,20.0998364893,20.1031532419,20.1064590300,20.1097539259,20.1130380011,20.1163113265,20.1195739721,20.1228260075,20.1260675014,20.1292985220,20.1325191367,20.1357294123,20.1389294150,20.1421192104,20.1452988633,20.1484684380,20.1516279983,20.1547776072,20.1579173272,20.1610472202,20.1641673476,20.1672777700,20.1703785476,20.1734697402,20.1765514067,20.1796236058,20.1826863953,20.1857398328,20.1887839752,20.1918188788,20.1948445998,20.1978611933,20.2008687143,20.2038672173,20.2068567562,20.2098373843,20.2128091547,20.2157721198,20.2187263317,20.2216718419,20.2246087016,20.2275369614,20.2304566715,20.2333678817,20.2362706413,20.2391649994,20.2420510043,20.2449287041,20.2477981465,20.2506593788,20.2535124478,20.2563573999,20.2591942812,20.2620231374,20.2648440138,20.2676569551,20.2704620060,20.2732592107,20.2760486127,20.2788302557,20.2816041826,20.2843704361,20.2871290585,20.2898800919,20.2926235778,20.2953595576,20.2980880723,20.3008091624,20.3035228683,20.3062292299,20.3089282868,20.3116200785,20.3143046439,20.3169820216,20.3196522502,20.3223153676,20.3249714116,20.3276204198,20.3302624293,20.3328974769,20.3355255993,20.3381468328,20.3407612134,20.3433687768,20.3459695585,20.3485635936,20.3511509172,20.3537315638,20.3563055678,20.3588729633,20.3614337841,20.3639880639,20.3665358360,20.3690771334,20.3716119890,20.3741404354,20.3766625048,20.3791782294,20.3816876410,20.3841907712,20.3866876514,20.3891783127,20.3916627861,20.3941411021,20.3966132912,20.3990793837,20.4015394095,20.4039933985,20.4064413801,20.4088833838,20.4113194386,20.4137495734,20.4161738170,20.4185921979,20.4210047443,20.4234114843,20.4258124459,20.4282076566,20.4305971440,20.4329809353,20.4353590577,20.4377315381,20.4400984031,20.4424596793,20.4448153930,20.4471655703,20.4495102373,20.4518494196,20.4541831430,20.4565114327,20.4588343141,20.4611518123,20.4634639520,20.4657707581,20.4680722551,20.4703684674,20.4726594191,20.4749451344,20.4772256371,20.4795009509,20.4817710994,20.4840361061,20.4862959940,20.4885507864,20.4908005062,20.4930451760,20.4952848186,20.4975194564,20.4997491117,20.5019738067,20.5041935635,20.5064084038,20.5086183495,20.5108234220,20.5130236429,20.5152190335,20.5174096149,20.5195954081,20.5217764340,20.5239527134,20.5261242669,20.5282911150,20.5304532780,20.5326107762,20.5347636295,20.5369118581,20.5390554816,20.5411945199,20.5433289924,20.5454589186,20.5475843179,20.5497052095,20.5518216124,20.5539335456,20.5560410280,20.5581440781,20.5602427148,20.5623369564,20.5644268213,20.5665123278,20.5685934940,20.5706703380,20.5727428776,20.5748111306,20.5768751148,20.5789348478,20.5809903470,20.5830416297,20.5850887134,20.5871316150,20.5891703517,20.5912049404,20.5932353979,20.5952617411,20.5972839864,20.5993021506,20.6013162500,20.6033263009,20.6053323196,20.6073343223,20.6093323249,20.6113263436,20.6133163940,20.6153024919,20.6172846531,20.6192628931,20.6212372274,20.6232076714,20.6251742404,20.6271369496,20.6290958140,20.6310508489,20.6330020690,20.6349494893,20.6368931245,20.6388329893,20.6407690983,20.6427014661,20.6446301070,20.6465550354,20.6484762656,20.6503938117,20.6523076879,20.6542179081,20.6561244864,20.6580274366,20.6599267724,20.6618225075,20.6637146557,20.6656032304,20.6674882451,20.6693697131,20.6712476480,20.6731220628,20.6749929707,20.6768603849,20.6787243183,20.6805847840,20.6824417947,20.6842953634,20.6861455026,20.6879922252,20.6898355437,20.6916754706,20.6935120184,20.6953451995,20.6971750262,20.6990015107,20.7008246653,20.7026445020,20.7044610329,20.7062742700,20.7080842253,20.7098909105,20.7116943375,20.7134945180,20.7152914637,20.7170851861,20.7188756969,20.7206630075,20.7224471293,20.7242280736,20.7260058519,20.7277804753,20.7295519549,20.7313203020,20.7330855275,20.7348476425,20.7366066579,20.7383625846,20.7401154334,20.7418652151,20.7436119405,20.7453556201,20.7470962645,20.7488338844,20.7505684902,20.7523000924,20.7540287013,20.7557543273,20.7574769806,20.7591966715,20.7609134101,20.7626272066,20.7643380710,20.7660460133,20.7677510435,20.7694531716,20.7711524074,20.7728487606,20.7745422411,20.7762328586,20.7779206227,20.7796055431,20.7812876293,20.7829668908,20.7846433371,20.7863169777,20.7879878218,20.7896558789,20.7913211582,20.7929836690,20.7946434204,20.7963004216,20.7979546817,20.7996062098,20.8012550147,20.8029011057,20.8045444914,20.8061851809,20.8078231829,20.8094585062,20.8110911596,20.8127211518,20.8143484915,20.8159731872,20.8175952476,20.8192146811,20.8208314964,20.8224457017,20.8240573056,20.8256663164,20.8272727425,20.8288765920,20.8304778734,20.8320765948,20.8336727643,20.8352663901,20.8368574804,20.8384460430,20.8400320862,20.8416156178,20.8431966458,20.8447751781,20.8463512225,20.8479247870,20.8494958792,20.8510645070,20.8526306780,20.8541944000,20.8557556806,20.8573145273,20.8588709479,20.8604249497,20.8619765404,20.8635257274,20.8650725181,20.8666169200,20.8681589403,20.8696985865,20.8712358658,20.8727707856,20.8743033529,20.8758335751,20.8773614593,20.8788870126,20.8804102421,20.8819311550,20.8834497581,20.8849660586,20.8864800635,20.8879917796,20.8895012138,20.8910083731,20.8925132643,20.8940158942,20.8955162695,20.8970143972,20.8985102837,20.9000039360,20.9014953606,20.9029845641,20.9044715533,20.9059563345,20.9074389145,20.9089192996,20.9103974965,20.9118735115,20.9133473512,20.9148190218,20.9162885297,20.9177558814,20.9192210832,20.9206841412,20.9221450619,20.9236038513,20.9250605158,20.9265150615,20.9279674946,20.9294178212,20.9308660474,20.9323121792,20.9337562228,20.9351981841,20.9366380692,20.9380758839,20.9395116343,20.9409453263,20.9423769658,20.9438065586,20.9452341106,20.9466596276,20.9480831154,20.9495045797,20.9509240264,20.9523414611,20.9537568895,20.9551703173,20.9565817501,20.9579911936,20.9593986534,20.9608041350,20.9622076440,20.9636091859,20.9650087663,20.9664063905,20.9678020642,20.9691957926,20.9705875813,20.9719774356,20.9733653608,20.9747513625,20.9761354457,20.9775176159,20.9788978784,20.9802762384,20.9816527011,20.9830272718,20.9843999556,20.9857707577,20.9871396833,20.9885067375,20.9898719254,20.9912352522,20.9925967228,20.9939563423,20.9953141157,20.9966700481,20.9980241445,20.9993764097,21.0007268488,21.0020754667,21.0034222683,21.0047672584,21.0061104419,21.0074518237,21.0087914087,21.0101292015,21.0114652071,21.0127994301,21.0141318753,21.0154625475,21.0167914513,21.0181185915,21.0194439728,21.0207675997,21.0220894770,21.0234096092,21.0247280009,21.0260446568,21.0273595814,21.0286727792,21.0299842548,21.0312940127,21.0326020573,21.0339083933,21.0352130249,21.0365159567,21.0378171930,21.0391167384,21.0404145971,21.0417107735,21.0430052721,21.0442980971,21.0455892529,21.0468787437,21.0481665739,21.0494527477,21.0507372694,21.0520201432,21.0533013733,21.0545809641,21.0558589195,21.0571352439,21.0584099413,21.0596830159,21.0609544719,21.0622243134,21.0634925443,21.0647591690,21.0660241913,21.0672876153,21.0685494451,21.0698096847,21.0710683382,21.0723254093,21.0735809023,21.0748348209,21.0760871693,21.0773379512,21.0785871706,21.0798348314,21.0810809374,21.0823254927,21.0835685009,21.0848099660,21.0860498918,21.0872882820,21.0885251405,21.0897604711,21.0909942776,21.0922265636,21.0934573330,21.0946865895,21.0959143367,21.0971405784,21.0983653183,21.0995885601,21.1008103073,21.1020305637,21.1032493329,21.1044666185,21.1056824242,21.1068967534,21.1081096098,21.1093209970,21.1105309185,21.1117393779,21.1129463786,21.1141519243,21.1153560183,21.1165586643,21.1177598656,21.1189596258,21.1201579483,21.1213548365,21.1225502940,21.1237443239,21.1249369299,21.1261281153,21.1273178834,21.1285062377,21.1296931815,21.1308787181,21.1320628508,21.1332455831,21.1344269181,21.1356068592,21.1367854098,21.1379625729,21.1391383520,21.1403127503,21.1414857709,21.1426574172,21.1438276924,21.1449965996,21.1461641420,21.1473303229,21.1484951454,21.1496586127,21.1508207279,21.1519814941,21.1531409145,21.1542989922,21.1554557304,21.1566111320,21.1577652002,21.1589179381,21.1600693487,21.1612194351,21.1623682003,21.1635156473,21.1646617793,21.1658065991,21.1669501098,21.1680923144,21.1692332158,21.1703728171,21.1715111211,21.1726481309,21.1737838494,21.1749182794,21.1760514240,21.1771832861,21.1783138684,21.1794431740,21.1805712057,21.1816979664,21.1828234589,21.1839476862,21.1850706509,21.1861923560,21.1873128043,21.1884319986,21.1895499417,21.1906666364,21.1917820855,21.1928962917,21.1940092579,21.1951209867,21.1962314810,21.1973407435,21.1984487768,21.1995555838,21.2006611671,21.2017655295,21.2028686735,21.2039706020,21.2050713176,21.2061708229,21.2072691207,21.2083662135,21.2094621040,21.2105567949,21.2116502887,21.2127425881,21.2138336957,21.2149236140,21.2160123458,21.2170998935,21.2181862597,21.2192714470,21.2203554579,21.2214382951,21.2225199609,21.2236004581,21.2246797890,21.2257579562,21.2268349622,21.2279108096,21.2289855007,21.2300590381,21.2311314242,21.2322026616,21.2332727527,21.2343416999,21.2354095056,21.2364761724,21.2375417026,21.2386060987,21.2396693630,21.2407314980,21.2417925060,21.2428523895,21.2439111509,21.2449687924,21.2460253166,21.2470807257,21.2481350220,21.2491882080,21.2502402859,21.2512912582,21.2523411270,21.2533898948,21.2544375639,21.2554841364,21.2565296148,21.2575740014,21.2586172983,21.2596595078,21.2607006324,21.2617406741,21.2627796352,21.2638175180,21.2648543247,21.2658900576,21.2669247188,21.2679583107,21.2689908353,21.2700222949,21.2710526917,21.2720820278,21.2731103056,21.2741375270,21.2751636944,21.2761888098,21.2772128754,21.2782358934,21.2792578659,21.2802787950,21.2812986829,21.2823175317,21.2833353435,21.2843521204,21.2853678645,21.2863825780,21.2873962628,21.2884089211,21.2894205550,21.2904311665,21.2914407577,21.2924493307,21.2934568874,21.2944634300,21.2954689605,21.2964734810,21.2974769933,21.2984794997,21.2994810020,21.3004815023};
int main()
{
    int n;
    while (scanf("%d", &amp;n)!=EOF)
    {
        int cnt = n/1000000;
        int mod = n%1000000;
        double ans = a[cnt];
        for (int i = cnt*1000000+1; i &lt;= n; i++)
            ans += 1.0/i;
        printf("%.4f\n",ans);
    }
}
</code></pre>

<p>数学方法</p>

<pre><code class="c++">#include &lt;cstdio&gt;
#include &lt;cstring&gt;
#include &lt;algorithm&gt;
#include &lt;cmath&gt;
#include &lt;vector&gt;
using namespace std;
const double r = 0.57721566490153286060651209;
double rec[1000000] = {0};
int main()
{
    int n;
    for (int i = 1; i &lt;= 1000000 ; i ++)
    {
        rec[i] = rec[i-1] + 1.0/i;
    }
    while (~scanf("%d",&amp;n))
    {

        if (n &lt;= 1000000)
            printf("%.4f\n", rec[n]);
        else
            printf("%.4f\n", log(n+1) + r);
    }
}
</code></pre>

<p><a href="/blog/archives/">&lt;&ndash;Back</a></p>
]]></content>
  </entry>
  
</feed>
